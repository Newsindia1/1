<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NewsPulse â€” Latest Indian and World News</title>
<meta name="description" content="Get top headlines, trending stories, and breaking news from India and around the world. Updated every hour.">
<meta name="keywords" content="India news, world news, technology, sports, politics, entertainment">
<meta name="author" content="Suman">
<link rel="canonical" href="https://newspulse.in/">
<style>
:root {
  --accent: #0f172a;
  --bg: #f9fafb;
  --card: #ffffff;
  --text: #111827;
  --muted: #6b7280;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.5;
}

/* Header */
header {
  position: sticky;
  top: 0;
  z-index: 1000;
  background: var(--accent);
  color: #fff;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}
.topbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  flex-wrap: wrap;
}
.brand {
  font-weight: 700;
  font-size: 20px;
  display: flex;
  align-items: center;
  gap: 8px;
}
nav {
  display: flex;
  gap: 8px;
  overflow-x: auto;
  padding: 8px 16px;
  background: #16223b;
}
nav::-webkit-scrollbar { display: none; }

button.section {
  background: transparent;
  border: 0;
  color: #cbd5e1;
  padding: 8px 12px;
  border-radius: 6px;
  cursor: pointer;
  white-space: nowrap;
  font-weight: 500;
}
button.section.active {
  background: #1e293b;
  color: #fff;
}

/* Search bar */
.controls {
  display: flex;
  gap: 6px;
  margin-top: 8px;
}
input.search {
  padding: 8px 10px;
  border-radius: 6px;
  border: 1px solid #e5e7eb;
  width: 180px;
}
.btn {
  background: #1e293b;
  color: #fff;
  border: none;
  padding: 8px 12px;
  border-radius: 6px;
  cursor: pointer;
}
.btn:hover { background: #334155; }

/* Layout */
.container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 16px;
}
.grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 16px;
}
@media(min-width:900px){
  .grid {
    grid-template-columns: 2fr 340px;
  }
}

/* News Cards */
.cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 14px;
}
.card {
  background: var(--card);
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
  transition: transform 0.2s;
}
.card:hover { transform: translateY(-3px); }
.card img {
  width: 100%;
  height: 180px;
  object-fit: cover;
}
.card-body {
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.card-body a {
  text-decoration: none;
  color: var(--accent);
  font-weight: 600;
}
.meta { font-size: 12px; color: var(--muted); }

/* Ads and Sidebar */
.ad {
  background: #eef2f7;
  border: 2px dashed #cbd5e1;
  border-radius: 8px;
  text-align: center;
  padding: 10px;
  color: #374151;
}
aside .panel {
  background: var(--card);
  padding: 12px;
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.04);
  margin-bottom: 14px;
}

/* Footer */
footer {
  text-align: center;
  padding: 16px;
  font-size: 13px;
  color: var(--muted);
  background: #f3f4f6;
  margin-top: 30px;
}
</style>
</head>

<body>
<header>
  <div class="topbar">
    <div class="brand">ðŸ“° NewsPulse</div>
    <form id="searchForm" class="controls" onsubmit="return false;">
      <input id="q" class="search" type="search" placeholder="Search news..." />
      <button id="searchBtn" class="btn" type="button">Search</button>
    </form>
  </div>
  <nav id="sections"></nav>
</header>

<main class="container grid">
  <section>
    <h2 style="margin-bottom:10px;">Top Stories <span id="currentSection"></span></h2>
    <div id="loading" class="small" style="display:none">Loading...</div>
    <div id="error" style="display:none;background:#fee2e2;padding:8px;border-radius:6px;color:#991b1b"></div>
    <div class="ad" style="margin-bottom:12px;">Ad â€” Top Banner</div>
    <div id="cards" class="cards"></div>
  </section>

  <aside>
    <div class="panel">
      <h3>Trending</h3>
      <ul id="trending" style="padding-left:16px;font-size:14px;line-height:1.6"></ul>
    </div>
    <div class="ad">Ad â€” Sidebar</div>
  </aside>
</main>

<footer>
  Â© <span id="year"></span> NewsPulse â€” All Rights Reserved.
</footer>

<script>
const API_KEY = "f1dc9c3973a96c8137aa3fa1e70cd915"; // replace
const SECTIONS = ["general","world","business","technology","sports","entertainment","health","science"];
let state = { section: "general" };

document.getElementById("year").textContent = new Date().getFullYear();

const nav = document.getElementById("sections");
const cardsEl = document.getElementById("cards");
const trendingEl = document.getElementById("trending");
const errorEl = document.getElementById("error");
const loadingEl = document.getElementById("loading");
const currentSection = document.getElementById("currentSection");

/* Build Nav Buttons */
SECTIONS.forEach(sec=>{
  const btn=document.createElement("button");
  btn.textContent=sec[0].toUpperCase()+sec.slice(1);
  btn.className="section"+(sec==="general"?" active":"");
  btn.onclick=()=>{
    state.section=sec;
    fetchNews();
    document.querySelectorAll("button.section").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
  }
  nav.appendChild(btn);
});

async function fetchNews(){
  loadingEl.style.display="block";
  errorEl.style.display="none";
  cardsEl.innerHTML="";
  try{
    const url=`https://gnews.io/api/v4/top-headlines?category=${state.section}&lang=en&country=in&max=10&token=${API_KEY}`;
    const res=await fetch(url);
    const data=await res.json();
    if(!data.articles) throw new Error("Failed to load news");
    renderNews(data.articles);
    renderTrending(data.articles);
    currentSection.textContent="("+state.section+")";
  }catch(err){
    errorEl.style.display="block";
    errorEl.textContent=err.message;
  }finally{
    loadingEl.style.display="none";
  }
}

function renderNews(articles){
  cardsEl.innerHTML="";
  articles.forEach(a=>{
    const img=a.image || "https://via.placeholder.com/400x200?text=No+Image";
    const card=document.createElement("article");
    card.className="card";
    card.innerHTML=`
      <img src="${img}" alt="${a.title}">
      <div class="card-body">
        <a href="${a.url}" target="_blank">${a.title}</a>
        <div class="meta">${a.source.name || ""} â€¢ ${new Date(a.publishedAt).toLocaleString()}</div>
        <p>${a.description || ""}</p>
      </div>`;
    cardsEl.appendChild(card);
  });
}
function renderTrending(articles){
  trendingEl.innerHTML="";
  articles.slice(0,5).forEach(a=>{
    const li=document.createElement("li");
    li.innerHTML=`<a href="${a.url}" target="_blank">${a.title}</a>`;
    trendingEl.appendChild(li);
  });
}
document.getElementById("searchBtn").onclick=()=>{
  const q=document.getElementById("q").value.trim();
  if(!q) return fetchNews();
  searchNews(q);
};
async function searchNews(q){
  loadingEl.style.display="block";
  errorEl.style.display="none";
  cardsEl.innerHTML="";
  try{
    const url=`https://gnews.io/api/v4/search?q=${encodeURIComponent(q)}&lang=en&country=in&max=10&token=${API_KEY}`;
    const res=await fetch(url);
    const data=await res.json();
    renderNews(data.articles||[]);
  }catch(e){
    errorEl.style.display="block";
    errorEl.textContent="Search failed.";
  }finally{
    loadingEl.style.display="none";
  }
}
fetchNews();
</script>
</body>
</html>